define("assignsubmission_ltisubmissions/ltiform",["exports","jquery","core/str"],(function(_exports,_jquery,_str){var obj;
/**
   * AMD module for the lti form in assignsubmission_ltisubmissions page.
   *
   * @module     assignsubmission_ltisubmissions/ltiform
   * @copyright  2023 Moodle India
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_jquery=(obj=_jquery)&&obj.__esModule?obj:{default:obj};_exports.init=hideoptions=>{(0,_jquery.default)(document).on("click","#id_assignsubmission_ltisubmissions_enabled",(function(){var ltisubmissionname=(0,_jquery.default)(this).attr("name");(0,_jquery.default)(this).is(":checked")?(0,_jquery.default)("#fgroup_id_submissionplugins").find(":checkbox").each((function(){var elementname=(0,_jquery.default)(this).attr("name");ltisubmissionname!=elementname&&elementname.startsWith("assignsubmission_")&&elementname.endsWith("_enabled")&&((0,_jquery.default)(this).is(":checked")&&(0,_jquery.default)(this).trigger("click"),(0,_jquery.default)(this).attr("disabled",!0))})):(0,_jquery.default)("#fgroup_id_submissionplugins").find(":checkbox").each((function(){var elementname=(0,_jquery.default)(this).attr("name");ltisubmissionname!=elementname&&elementname.startsWith("assignsubmission_")&&elementname.endsWith("_enabled")&&(0,_jquery.default)(this).attr("disabled",!1)}))})),(0,_jquery.default)(document).ready((function(){if((0,_jquery.default)("#id_assignsubmission_ltisubmissions_enabled").is(":checked")){hideoptions&&(0,_jquery.default)("#fgroup_id_submissionplugins").hide();var ltisubmissionname=(0,_jquery.default)("#id_assignsubmission_ltisubmissions_enabled").attr("name");(0,_jquery.default)("#fgroup_id_submissionplugins").find(":checkbox").each((function(){var elementname=(0,_jquery.default)(this).attr("name");ltisubmissionname!=elementname&&elementname.startsWith("assignsubmission_")&&elementname.endsWith("_enabled")&&((0,_jquery.default)(this).is(":checked")&&(0,_jquery.default)(this).trigger("click"),(0,_jquery.default)(this).attr("disabled",!0))}))}})),(0,_jquery.default)(document).find("form[action='modedit.php']").on("submit",(function(e){if(1==(0,_jquery.default)(e.originalEvent.submitter).data("skipValidation"))return!0;var formData=(0,_jquery.default)(this).serializeArray(),data=[];if(_jquery.default.each(formData,(function(index,field){data[field.name]=field.value})),1==data.assignsubmission_ltisubmissions_enabled){var scrollindex="",expandheader=!1;return null!=typeof data.maxattempts&&-1!=data.maxattempts?((0,_jquery.default)("#id_maxattempts").addClass("is-invalid"),(0,_str.get_string)("maxattemptserror","assignsubmission_ltisubmissions").then(function(error){(0,_jquery.default)("#id_error_maxattempts").html(error)}.bind(this)),scrollindex="id_maxattempts",expandheader=!0):(0,_jquery.default)("#id_maxattempts").hasClass("is-invalid")&&((0,_jquery.default)("#id_maxattempts").removeClass("is-invalid"),(0,_jquery.default)("#id_error_maxattempts").html("")),null!=typeof data.attemptreopenmethod&&"untilpass"!=data.attemptreopenmethod?((0,_jquery.default)("#id_attemptreopenmethod").addClass("is-invalid"),(0,_str.get_string)("attemptreopenmethoderror","assignsubmission_ltisubmissions").then(function(error){(0,_jquery.default)("#id_error_attemptreopenmethod").html(error)}.bind(this)),scrollindex="id_attemptreopenmethod",expandheader=!0):(0,_jquery.default)("#id_attemptreopenmethod").hasClass("is-invalid")&&((0,_jquery.default)("#id_attemptreopenmethod").removeClass("is-invalid"),(0,_jquery.default)("#id_error_attemptreopenmethod").html("")),null!=typeof data.requiresubmissionstatement&&0!=data.requiresubmissionstatement?((0,_jquery.default)("#id_requiresubmissionstatement").addClass("is-invalid"),(0,_str.get_string)("requiresubmissionstatementerror","assignsubmission_ltisubmissions").then(function(error){(0,_jquery.default)("#id_error_requiresubmissionstatement").html(error)}.bind(this)),scrollindex="id_requiresubmissionstatement",expandheader=!0):(0,_jquery.default)("#id_requiresubmissionstatement").hasClass("is-invalid")&&((0,_jquery.default)("#id_requiresubmissionstatement").removeClass("is-invalid"),(0,_jquery.default)("#id_error_requiresubmissionstatement").html("")),null!=typeof data.submissiondrafts&&0!=data.submissiondrafts?((0,_jquery.default)("#id_submissiondrafts").addClass("is-invalid"),(0,_str.get_string)("submissiondraftserror","assignsubmission_ltisubmissions").then(function(error){(0,_jquery.default)("#id_error_submissiondrafts").html(error)}.bind(this)),scrollindex="id_submissiondrafts",expandheader=!0):(0,_jquery.default)("#id_submissiondrafts").hasClass("is-invalid")&&((0,_jquery.default)("#id_submissiondrafts").removeClass("is-invalid"),(0,_jquery.default)("#id_error_submissiondrafts").html("")),0==data.typeid?((0,_jquery.default)("#id_typeid").addClass("is-invalid"),(0,_str.get_string)("invalidtypeid","assignsubmission_ltisubmissions").then(function(error){(0,_jquery.default)("#id_error_typeid").html(error)}.bind(this)),scrollindex="id_typeid"):(0,_jquery.default)("#id_typeid").hasClass("is-invalid")&&((0,_jquery.default)("#id_typeid").removeClass("is-invalid"),(0,_jquery.default)("#id_error_typeid").html("")),""==scrollindex||(expandheader&&"false"==(0,_jquery.default)('#id_submissionsettings [data-toggle="collapse"]').attr("aria-expanded")&&(0,_jquery.default)('#id_submissionsettings [data-toggle="collapse"]').trigger("click"),document.getElementById(scrollindex).scrollIntoView(),!1)}}))}}));

//# sourceMappingURL=ltiform.min.js.map